{% extends 'AppBundle::layout.html.twig' %}

{% block title %}{{ 'sitename' | trans }} | {{ 'home_page.title'|trans }}{% endblock %}

{% block content %}

<div class="container">

    <div class="col-md-push-2 col-md-8 white_background boxElement">
        <div class="row">
            <h2 class="main_title">Form Update Function</h2>
        </div>

        <script type="text/javascript" charset="utf-8" src="{{ asset('bundles/app/ckeditor/ckeditor.js') }}"></script>
        <form action="{{ path('app_admin_functionEdit', {'id': app.request.get('id') } ) }}" method="post" {{ form_enctype(form) }} class="app">


            {{ form_widget(form._token) }}
            {{ form_errors(form) }}

            <div class="form-group">
                {{ form_row(form.name, {'label': 'Nom', 'attr': {'style': 'width:100%', 'class': 'form-control'}}) }}
            </div>
            <div class="form-group">
                {{ form_row(form.french_description, {'label': 'Description Française', 'attr': {'style': 'width:100%; height: 150px;', 'class': 'form-control'}}) }}
            </div>
            <div class="form-group">
                {{ form_row(form.english_description, {'label': 'Description Anglaise', 'attr': {'style': 'width:100%; height: 150px;', 'class': 'form-control'}}) }}
            </div>
            <div class="form-group">
                {{ form_row(form.french_html, {'label': 'HTML Français', 'attr': {'style': 'width:100%;', 'class': 'form-control'}}) }}
            </div>
            <div class="form-group">
                {{ form_row(form.english_html, {'label': 'HTML Anglais', 'attr': {'style': 'width:100%;', 'class': 'form-control'}}) }}
            </div>
            <script>
                CKEDITOR.replace('appbundle_ezfunction_french_html');
                CKEDITOR.replace('appbundle_ezfunction_english_html');
            </script>

            <div class="form-group">
                {{ form_row(form.category, {'label': 'Catégorie', 'attr': {'class': 'form-control'}}) }}
            </div>

            <h3 class="main_title">Arguments</h3>

            <div class="form-group">
                <button class="btn btn-default" id="add_argument_link" type="button">Add Argument</button>
            </div>


            <ul class="arguments" data-prototype="{% filter escape %}
             {{ include('AppBundle:EZFunction:_argument.html.twig', { 'form': form.arguments.vars.prototype }) }}
         {% endfilter %}">
                {% for argument in form.arguments %}
                    <li>
                      {{ include('AppBundle:EZFunction:_argument.html.twig', { 'form': argument }) }}
                    </li>
                {% endfor %}
            </ul>
            
            <input type="submit" value="Submit" />
        </form>
    </div>
</div>

<br><br><br><br><br><br><br><br>
{% endblock content %}

{% block javascripts_body %}
{{ parent() }}

<script type="text/javascript" charset="utf-8" src="{{ asset('bundles/app/js/argument.js') }}"></script>

{% endblock javascripts_body %}
